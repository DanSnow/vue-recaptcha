{"_path":"/advanced/customize-recaptcha-script-loading","_dir":"advanced","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Customize reCAPTCHA script loading","description":"By default vue-recaptcha will use unhead to load the reCAPTCHA script.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"customize-recaptcha-script-loading"},"children":[{"type":"text","value":"Customize reCAPTCHA script loading"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By default vue-recaptcha will use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"unhead"}]},{"type":"text","value":" to load the reCAPTCHA script."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you need to completely control how to load the reCAPTCHA script. You can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"createPlugin"}]},{"type":"text","value":" to create a plugin with your own "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"loadScript"}]},{"type":"text","value":" function."}]},{"type":"element","tag":"code","props":{"code":"import {createPlugin} from 'vue-recaptcha'\n\nfunction loadScript(params: RecaptchaParams) {\n  // This function will be called by `useRecaptchaProvider`\n  return () => {\n    // load reCAPTCHA script\n    onMounted(() => {\n      const script = document.createElement('script')\n      script.src = `https://www.google.com/recaptcha/api.js?${toQueryString(params)}`\n      script.async = true\n      script.defer = true\n      document.head.append(script)\n    })\n  }\n}\nconst plugin = createPlugin(loadScript)\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" {createPlugin} "}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-43749c"},"children":[{"type":"text","value":"'vue-recaptcha'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-56bab9"},"children":[{"type":"text","value":"loadScript"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e3b6bf"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e3b6bf"},"children":[{"type":"text","value":"RecaptchaParams"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":") {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-57e8a9"},"children":[{"type":"text","value":"// This function will be called by `useRecaptchaProvider`"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-57e8a9"},"children":[{"type":"text","value":"// load reCAPTCHA script"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-56bab9"},"children":[{"type":"text","value":"onMounted"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"(() "}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c6bb8"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" document."}]},{"type":"element","tag":"span","props":{"class":"ct-56bab9"},"children":[{"type":"text","value":"createElement"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-43749c"},"children":[{"type":"text","value":"'script'"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"      script.src "}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-43749c"},"children":[{"type":"text","value":"`https://www.google.com/recaptcha/api.js?${"}]},{"type":"element","tag":"span","props":{"class":"ct-56bab9"},"children":[{"type":"text","value":"toQueryString"}]},{"type":"element","tag":"span","props":{"class":"ct-43749c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-43749c"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-43749c"},"children":[{"type":"text","value":"}`"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"      script.async "}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c6bb8"},"children":[{"type":"text","value":"true"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"      script.defer "}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c6bb8"},"children":[{"type":"text","value":"true"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"      document.head."}]},{"type":"element","tag":"span","props":{"class":"ct-56bab9"},"children":[{"type":"text","value":"append"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"(script)"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"    })"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c6bb8"},"children":[{"type":"text","value":"plugin"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-56bab9"},"children":[{"type":"text","value":"createPlugin"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"(loadScript)"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"the-recaptchaparams"},"children":[{"type":"text","value":"The RecaptchaParams"}]},{"type":"element","tag":"code","props":{"code":"export interface RecaptchaParams {\n  // You must pass these two value as query string to reCAPTCHA\n  render: LiteralUnion<'explicit', string>\n  onload: string\n\n  // Below you can customize as you want\n  hl?: string | undefined\n  trustedtypes?: 'true' | undefined\n  [k: string]: string | undefined\n}\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e3b6bf"},"children":[{"type":"text","value":"RecaptchaParams"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-57e8a9"},"children":[{"type":"text","value":"// You must pass these two value as query string to reCAPTCHA"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-e3b6bf"},"children":[{"type":"text","value":"render"}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e3b6bf"},"children":[{"type":"text","value":"LiteralUnion"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-43749c"},"children":[{"type":"text","value":"'explicit'"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-8c6bb8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-e3b6bf"},"children":[{"type":"text","value":"onload"}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c6bb8"},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-57e8a9"},"children":[{"type":"text","value":"// Below you can customize as you want"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-e3b6bf"},"children":[{"type":"text","value":"hl"}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c6bb8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c6bb8"},"children":[{"type":"text","value":"undefined"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-e3b6bf"},"children":[{"type":"text","value":"trustedtypes"}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-43749c"},"children":[{"type":"text","value":"'true'"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c6bb8"},"children":[{"type":"text","value":"undefined"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"  ["}]},{"type":"element","tag":"span","props":{"class":"ct-e3b6bf"},"children":[{"type":"text","value":"k"}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c6bb8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c6bb8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cbc148"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8c6bb8"},"children":[{"type":"text","value":"undefined"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9d6a68"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-8c6bb8{color:#0550AE}\n.ct-57e8a9{color:#6E7781}\n.ct-e3b6bf{color:#953800}\n.ct-56bab9{color:#8250DF}\n.ct-43749c{color:#0A3069}\n.ct-9d6a68{color:#24292F}\n.ct-cbc148{color:#CF222E}\n.dark .ct-cbc148{color:#FF7B72}\n.dark .ct-9d6a68{color:#C9D1D9}\n.dark .ct-43749c{color:#A5D6FF}\n.dark .ct-56bab9{color:#D2A8FF}\n.dark .ct-e3b6bf{color:#FFA657}\n.dark .ct-57e8a9{color:#8B949E}\n.dark .ct-8c6bb8{color:#79C0FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"the-recaptchaparams","depth":2,"text":"The RecaptchaParams"}]}},"_type":"markdown","_id":"content:4.advanced:0.customize-recaptcha-script-loading.md","_source":"content","_file":"4.advanced/0.customize-recaptcha-script-loading.md","_extension":"md"}